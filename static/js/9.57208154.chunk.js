(this.webpackJsonpshoppingify=this.webpackJsonpshoppingify||[]).push([[9],{100:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"a",(function(){return s})),e.d(n,"c",(function(){return o})),e.d(n,"d",(function(){return m}));var r=e(12),c=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=function(t){var n=new Date(t),e=c[n.getMonth()],r=n.getFullYear();return"".concat(e," ").concat(r)},s=function(t){var n=new Date(t),e=i[n.getDay()],r=n.getDate(),c=n.getMonth()+1,a=n.getFullYear();return"".concat(e," ").concat(r,".").concat(c,".").concat(a)},o=function(t){var n=t.map((function(t){return a(t)}));return Object(r.a)(Array.from(new Set(n)))},m=function(t){return c[t-1]}},138:function(t,n,e){"use strict";var r,c=e(7),i=e(8).c.ul(r||(r=Object(c.a)(["\n\tdisplay: grid;\n\tgap: 2.4rem 0.8rem;\n\t@media (min-width: 36em) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\t@media (min-width: 75em) {\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tgap: 4rem 2rem;\n\t}\n"])));n.a=i},419:function(t,n,e){"use strict";e.r(n);var r,c,i=e(0),a=e(20),s=e(25),o=(e(98),e(87)),m=e(74),l=e(156),u=e(137),d=e(69),j=e(7),p=e(8),b=e(100),g=e(70),f=e(71),h=e(3),O=p.c.div(r||(r=Object(j.a)(["\n\tbackground-color: var(--color-bg-3);\n\tborder-radius: 1.2rem;\n\tpadding: 2rem;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 2.8rem;\n\tp {\n\t\tmargin: 0;\n\t\tflex: 1;\n\t\ttext-align: center;\n\t}\n\t@media (min-width: 37.5em) {\n\t\tflex-wrap: nowrap;\n\t\tp {\n\t\t\ttext-align: left;\n\t\t}\n\t}\n\t@media (min-width: 56.25em) {\n\t\tflex-wrap: wrap;\n\t\tp {\n\t\t\ttext-align: center;\n\t\t}\n\t}\n\t@media (min-width: 75em) {\n\t\tflex-wrap: nowrap;\n\t\tp {\n\t\t\ttext-align: left;\n\t\t}\n\t}\n"]))),x=p.c.div(c||(c=Object(j.a)(["\n\tflex-basis: 100%;\n\tmargin-top: 2rem;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(2, 1fr);\n\tgap: 2rem 0;\n\talign-items: center;\n\tjustify-content: space-between;\n\t.timestamp {\n\t\tfont-size: 1.4rem;\n\t\topacity: 0.79;\n\t\tmargin-left: auto;\n\t}\n\t.chip {\n\t\tborder: 1px solid currentColor;\n\t\tborder-radius: 0.8rem;\n\t\tfont-size: 1.2rem;\n\t\tpadding: 0.6rem;\n\t\ttext-align: center;\n\t}\n\t.chip.completed {\n\t\tcolor: var(--color-secondary-alt);\n\t}\n\t.chip.cancelled {\n\t\tcolor: var(--color-danger-alt);\n\t}\n\t.icon:last-of-type {\n\t\tmargin-left: auto;\n\t}\n\t@media (min-width: 37.5em) {\n\t\tflex-basis: unset;\n\t\tgrid-template-columns: repeat(4, auto);\n\t\tmargin-top: 0;\n\t\t.timestamp {\n\t\t\tmargin: 0 2.6rem 0 1.2rem;\n\t\t}\n\t\t.chip {\n\t\t\tmargin-right: 3rem;\n\t\t}\n\t}\n\t@media (min-width: 56.25em) {\n\t\tflex-basis: 100%;\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t\tmargin-top: 2rem;\n\t\t.timestamp {\n\t\t\tmargin: 0;\n\t\t\tmargin-left: auto;\n\t\t}\n\t\t.chip {\n\t\t\tmargin-right: 0;\n\t\t}\n\t}\n\t@media (min-width: 75em) {\n\t\tflex-basis: unset;\n\t\tgrid-template-columns: repeat(4, auto);\n\t\tmargin-top: 0;\n\t\t.timestamp {\n\t\t\tmargin: 0 2.6rem 0 1.2rem;\n\t\t}\n\t\t.chip {\n\t\t\tmargin-right: 3rem;\n\t\t}\n\t}\n"])));var y,w=function(t){var n=t.entry,e=t.setView;return Object(h.jsxs)(O,{children:[Object(h.jsx)("p",{children:n.name}),Object(h.jsxs)(x,{children:[Object(h.jsx)(f.i,{className:"icon",size:20,color:"rgba(255, 255, 255, 0.79)"}),Object(h.jsx)("span",{className:"timestamp",children:Object(b.a)(n.createdAt)}),Object(h.jsx)("span",{className:"chip ".concat(n.completed?"completed":"cancelled"),children:n.completed?"completed":"cancelled"}),Object(h.jsx)(f.d,{size:30,className:"icon",cursor:"pointer",color:"var(--color-primary)",title:"View Details",onClick:function(){return e(n)}})]})]})},v=e(73),N=e(32),z=e(139),k=e(138),A=p.c.li(y||(y=Object(j.a)(["\n\t",";\n\tdisplay: grid;\n\tgrid-template-columns: 1fr max-content;\n\tgap: 1rem;\n\t.quantity {\n\t\tcolor: var(--color-primary);\n\t\tfont-size: 1.4rem;\n\t\tfont-weight: 700;\n\t}\n"])),g.a);var C,D=function(t){var n=t.name,e=t.quantity;return Object(h.jsxs)(A,{children:[n,Object(h.jsxs)("span",{className:"quantity",children:[e," pcs"]})]})},F=p.c.div(C||(C=Object(j.a)(["\n\t",";\n\t.back {\n\t\tcolor: var(--color-primary);\n\t\tcursor: pointer;\n\t\tfont-size: 1.4rem;\n\t\tfont-weight: 700;\n\t\tmargin-bottom: 3rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.icon {\n\t\tmargin-right: 1rem;\n\t}\n\t.timestamp {\n\t\tfont-size: 1.4rem;\n\t\tmargin-bottom: 4rem;\n\t\topacity: 0.79;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.category {\n\t\tfont-size: 1.8rem;\n\t\tfont-weight: 500;\n\t\tmargin: 0 0 1.8rem;\n\t}\n\t.section {\n\t\tmargin-bottom: 4rem;\n\t}\n"])),g.c);var L,S=function(t){var n=t.entry,e=t.setView,r=Object(z.a)(n.items.map((function(t){return t.category})));return Object(h.jsxs)(F,{children:[Object(h.jsxs)("div",{className:"back",onClick:function(){return e(null)},title:"Go back",children:[Object(h.jsx)(f.b,{size:24,color:"currentColor",className:"icon"}),"back"]}),Object(h.jsx)("h1",{className:"headline",children:n.name}),Object(h.jsxs)("div",{className:"timestamp",children:[Object(h.jsx)(f.i,{className:"icon",size:24,color:"currentColor"}),Object(b.a)(n.createdAt)]}),r.map((function(t){return Object(h.jsxs)("div",{className:"section",children:[Object(h.jsx)("h2",{className:"category",children:t}),Object(h.jsx)(k.a,{children:n.items.map((function(n){return n.category===t?Object(h.jsx)(D,{name:n.name,quantity:n.quantity},n._id):null}))})]},t)}))]})},V=p.c.div(L||(L=Object(j.a)(["\n\t",";\n\t.month-date {\n\t\tfont-size: 1.6rem;\n\t\tfont-weight: 500;\n\t\tmargin: 0 0 1.8rem;\n\t\topacity: 0.79;\n\t}\n"])),g.c);var q=function(){var t=Object(i.useState)(null),n=Object(d.a)(t,2),e=n[0],r=n[1],c=Object(a.b)(),s=Object(a.c)((function(t){return t.cart})).history,o=Object(a.c)((function(t){return t.ui})),l=Object(i.useRef)(0),u=Object(b.c)(s.history.map((function(t){return t.createdAt})));return e?Object(h.jsx)(S,{entry:e,setView:r}):Object(h.jsxs)(V,{children:[Object(h.jsx)("h2",{className:"headline",children:"Shopping history"}),s.isLoading?Object(h.jsx)(N.a,{center:!0,size:"lg"}):u.map((function(t){return Object(h.jsxs)(i.Fragment,{children:[Object(h.jsx)("h3",{className:"month-date",children:t}),s.history.map((function(n){return Object(b.b)(n.createdAt)===t&&Object(h.jsx)(w,{entry:n,setView:r},n._id)}))]},t)})),s.total>s.history.length&&Object(h.jsx)(v.a,{color:"secondary",disabled:o.isLoading,onClick:function(){l.current+=5,c(Object(m.i)(l.current))},children:o.isLoading?Object(h.jsx)(N.a,{size:"sm",center:!0}):"View more"}),!s.isLoading&&0===s.total&&Object(h.jsx)("h3",{children:"History is empty"})]})},J=e(154),M=e(158);n.default=function(){var t=Object(a.b)(),n=Object(a.c)((function(t){return t.ui})),e=Object(a.c)((function(t){return t.shopping})).isLoadingCategories,r=Object(a.c)((function(t){return t.cart})),c=r.unsavedCart,d=r.history;return Object(i.useEffect)((function(){e&&t(Object(o.c)())}),[t,e]),Object(i.useEffect)((function(){c.user||t(Object(m.h)())}),[t,c.user]),Object(i.useEffect)((function(){d.isLoading&&0===d.history.length&&t(Object(m.i)())}),[t,d]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{}),Object(h.jsxs)("div",{className:"layout",children:[Object(h.jsx)(l.a,{}),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(q,{}),Object(h.jsx)(J.a,{}),Object(h.jsx)(M.a,{show:n.showAddItem})]})]})]})}}}]);
//# sourceMappingURL=9.57208154.chunk.js.map