(this.webpackJsonpshoppingify=this.webpackJsonpshoppingify||[]).push([[8],{100:function(t,n,e){"use strict";var r,c=e(7),a=e(8).c.ul(r||(r=Object(c.a)(["\n\tdisplay: grid;\n\tgap: 2.4rem 0.8rem;\n\t@media (min-width: 36em) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\t@media (min-width: 75em) {\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tgap: 4rem 2rem;\n\t}\n"])));n.a=a},252:function(t,n,e){"use strict";e.r(n);var r,c,a=e(0),i=e(20),s=e(25),o=(e(77),e(73)),m=e(66),l=e(105),u=e(99),d=e(70),j=e(7),p=e(8),b=e(12),g=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=function(t){var n=new Date(t),e=g[n.getMonth()],r=n.getFullYear();return"".concat(e," ").concat(r)},O=function(t){var n=new Date(t),e=h[n.getDay()],r=n.getDate(),c=n.getMonth()+1,a=n.getFullYear();return"".concat(e," ").concat(r,".").concat(c,".").concat(a)},x=e(67),y=e(63),w=e(3),v=p.c.div(r||(r=Object(j.a)(["\n\tbackground-color: var(--color-bg-3);\n\tborder-radius: 1.2rem;\n\tpadding: 2rem;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 2.8rem;\n\tp {\n\t\tmargin: 0;\n\t\tflex: 1;\n\t\ttext-align: center;\n\t}\n\t@media (min-width: 37.5em) {\n\t\tflex-wrap: nowrap;\n\t\tp {\n\t\t\ttext-align: left;\n\t\t}\n\t}\n\t@media (min-width: 56.25em) {\n\t\tflex-wrap: wrap;\n\t\tp {\n\t\t\ttext-align: center;\n\t\t}\n\t}\n\t@media (min-width: 75em) {\n\t\tflex-wrap: nowrap;\n\t\tp {\n\t\t\ttext-align: left;\n\t\t}\n\t}\n"]))),N=p.c.div(c||(c=Object(j.a)(["\n\tflex-basis: 100%;\n\tmargin-top: 2rem;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(2, 1fr);\n\tgap: 2rem 0;\n\talign-items: center;\n\tjustify-content: space-between;\n\t.timestamp {\n\t\tfont-size: 1.4rem;\n\t\topacity: 0.79;\n\t\tmargin-left: auto;\n\t}\n\t.chip {\n\t\tborder: 1px solid currentColor;\n\t\tborder-radius: 0.8rem;\n\t\tfont-size: 1.2rem;\n\t\tpadding: 0.6rem;\n\t\ttext-align: center;\n\t}\n\t.chip.completed {\n\t\tcolor: var(--color-secondary-alt);\n\t}\n\t.chip.cancelled {\n\t\tcolor: var(--color-danger-alt);\n\t}\n\t.icon:last-of-type {\n\t\tmargin-left: auto;\n\t}\n\t@media (min-width: 37.5em) {\n\t\tflex-basis: unset;\n\t\tgrid-template-columns: repeat(4, auto);\n\t\tmargin-top: 0;\n\t\t.timestamp {\n\t\t\tmargin: 0 2.6rem 0 1.2rem;\n\t\t}\n\t\t.chip {\n\t\t\tmargin-right: 3rem;\n\t\t}\n\t}\n\t@media (min-width: 56.25em) {\n\t\tflex-basis: 100%;\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t\tmargin-top: 2rem;\n\t\t.timestamp {\n\t\t\tmargin: 0;\n\t\t\tmargin-left: auto;\n\t\t}\n\t\t.chip {\n\t\t\tmargin-right: 0;\n\t\t}\n\t}\n\t@media (min-width: 75em) {\n\t\tflex-basis: unset;\n\t\tgrid-template-columns: repeat(4, auto);\n\t\tmargin-top: 0;\n\t\t.timestamp {\n\t\t\tmargin: 0 2.6rem 0 1.2rem;\n\t\t}\n\t\t.chip {\n\t\t\tmargin-right: 3rem;\n\t\t}\n\t}\n"])));var z,k=function(t){var n=t.entry,e=t.setView;return console.log(n),Object(w.jsxs)(v,{children:[Object(w.jsx)("p",{children:n.name}),Object(w.jsxs)(N,{children:[Object(w.jsx)(y.i,{className:"icon",size:20,color:"rgba(255, 255, 255, 0.79)"}),Object(w.jsx)("span",{className:"timestamp",children:O(n.createdAt)}),Object(w.jsx)("span",{className:"chip ".concat(n.completed?"completed":"cancelled"),children:n.completed?"completed":"cancelled"}),Object(w.jsx)(y.d,{size:30,className:"icon",cursor:"pointer",color:"var(--color-primary)",title:"View Details",onClick:function(){return e(n)}})]})]})},A=e(65),C=e(32),D=e(101),F=e(100),S=p.c.li(z||(z=Object(j.a)(["\n\t",";\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n\tgap: 1rem;\n\t.quantity {\n\t\tcolor: var(--color-primary);\n\t\tfont-size: 1.4rem;\n\t\tfont-weight: 700;\n\t}\n"])),x.a);var V,q=function(t){var n=t.name,e=t.quantity;return Object(w.jsxs)(S,{children:[n,Object(w.jsxs)("span",{className:"quantity",children:[e," pcs"]})]})},J=p.c.div(V||(V=Object(j.a)(["\n\t",";\n\t.back {\n\t\tcolor: var(--color-primary);\n\t\tcursor: pointer;\n\t\tfont-size: 1.4rem;\n\t\tfont-weight: 700;\n\t\tmargin-bottom: 3rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.icon {\n\t\tmargin-right: 1rem;\n\t}\n\t.timestamp {\n\t\tfont-size: 1.4rem;\n\t\tmargin-bottom: 4rem;\n\t\topacity: 0.79;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.category {\n\t\tfont-size: 1.8rem;\n\t\tfont-weight: 500;\n\t\tmargin: 0 0 1.8rem;\n\t}\n\t.section {\n\t\tmargin-bottom: 4rem;\n\t}\n"])),x.c);var L,M=function(t){var n=t.entry,e=t.setView,r=Object(D.a)(n.items.map((function(t){return t.category})));return Object(w.jsxs)(J,{children:[Object(w.jsxs)("div",{className:"back",onClick:function(){return e(null)},title:"Go back",children:[Object(w.jsx)(y.b,{size:24,color:"currentColor",className:"icon"}),"back"]}),Object(w.jsx)("h1",{className:"headline",children:n.name}),Object(w.jsxs)("div",{className:"timestamp",children:[Object(w.jsx)(y.i,{className:"icon",size:24,color:"currentColor"}),O(n.createdAt)]}),r.map((function(t){return Object(w.jsxs)("div",{className:"section",children:[Object(w.jsx)("h2",{className:"category",children:t}),Object(w.jsx)(F.a,{children:n.items.map((function(n){return n.category===t?Object(w.jsx)(q,{name:n.name,quantity:n.quantity},n._id):null}))})]},t)}))]})},E=p.c.div(L||(L=Object(j.a)(["\n\t",";\n\t.month-date {\n\t\tfont-size: 1.6rem;\n\t\tfont-weight: 500;\n\t\tmargin: 0 0 1.8rem;\n\t\topacity: 0.79;\n\t}\n"])),x.c);var T=function(){var t=Object(a.useState)(null),n=Object(d.a)(t,2),e=n[0],r=n[1],c=Object(i.b)(),s=Object(i.c)((function(t){return t.cart})).history,o=Object(i.c)((function(t){return t.ui})),l=Object(a.useRef)(0),u=function(t){var n=t.map((function(t){return f(t)}));return Object(b.a)(Array.from(new Set(n)))}(s.history.map((function(t){return t.createdAt})));return e?Object(w.jsx)(M,{entry:e,setView:r}):Object(w.jsxs)(E,{children:[Object(w.jsx)("h2",{className:"headline",children:"Shopping history"}),s.isLoading?Object(w.jsx)(C.a,{center:!0,size:"lg"}):u.map((function(t){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{className:"month-date",children:t},t),s.history.map((function(n){return f(n.createdAt)===t?Object(w.jsx)(k,{entry:n,setView:r},n._id):null}))]})})),s.total>s.history.length&&Object(w.jsx)(A.a,{color:"secondary",disabled:o.isLoading,onClick:function(){l.current+=5,c(Object(m.i)(l.current))},children:o.isLoading?Object(w.jsx)(C.a,{size:"sm",center:!0}):"View more"})]})},Y=e(104),_=e(106);n.default=function(){var t=Object(i.b)(),n=Object(i.c)((function(t){return t.ui})),e=Object(i.c)((function(t){return t.shopping})).isLoadingCategories,r=Object(i.c)((function(t){return t.cart})),c=r.unsavedCart,d=r.history;return Object(a.useEffect)((function(){e&&t(Object(o.c)())}),[t,e]),Object(a.useEffect)((function(){c.user||t(Object(m.h)())}),[t,c.user]),Object(a.useEffect)((function(){d.isLoading&&0===d.history.length&&t(Object(m.i)())}),[t,d]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(s.a,{}),Object(w.jsxs)("div",{className:"layout",children:[Object(w.jsx)(l.a,{}),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(T,{}),Object(w.jsx)(Y.a,{}),Object(w.jsx)(_.a,{show:n.showAddItem})]})]})]})}}}]);
//# sourceMappingURL=8.08f37f83.chunk.js.map