(this.webpackJsonpshoppingify=this.webpackJsonpshoppingify||[]).push([[12],{420:function(t,e,n){"use strict";n.r(e);var r,c,s=n(0),a=n(20),i=n(25),o=(n(98),n(87)),j=n(74),d=n(156),u=n(137),b=n(7),l=n(8),h=n(15),m=n.n(h),O=n(22),p=n(23),g=n(2),f=n(24),x=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:g.a.STATISTICS_SET_LOADING,payload:t}},v=function(t){return{type:g.a.STATISTICS_GET,payload:t}},y=n(70),w=n(32),S=n(93),T=n(33),k=l.c.div(r||(r=Object(b.a)(["\n\tbackground-color: #e0e0e0;\n\tborder-radius: 0.4rem;\n\theight: 0.6rem;\n\twidth: 100%;\n\t&::after {\n\t\tcontent: '';\n\t\tbackground-color: ",";\n\t\tborder-radius: 0.4rem;\n\t\tdisplay: block;\n\t\theight: 100%;\n\t\twidth: ",";\n\t\tanimation: "," 0.15s ease;\n\t}\n"])),(function(t){var e=t.color;return S.a[e]}),(function(t){var e=t.progress;return"".concat(e,"%")}),T.b),I=n(3),N=Object(s.lazy)((function(){return Promise.all([n.e(5),n.e(11)]).then(n.bind(null,409))})),_=l.c.div(c||(c=Object(b.a)(["\n\t",";\n\t",";\n\tpadding-bottom: 2rem;\n\t.headline {\n\t\tfont-size: 2rem;\n\t\tfont-weight: 500;\n\t\tmargin: 0 0 3rem;\n\t}\n\t@media (min-width: 75em) {\n\t\t.headline {\n\t\t\tfont-size: 2.4rem;\n\t\t}\n\t}\n\t.grid {\n\t\tmargin-bottom: 3rem;\n\t\tdisplay: grid;\n\t\tgap: 3rem 5rem;\n\t\tp {\n\t\t\tfont-size: 1.5rem;\n\t\t\tmargin: 0 0 1.4rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t}\n\t}\n\t@media (min-width: 37.5em) {\n\t\t.grid {\n\t\t\tgrid-template-columns: repeat(2, 1fr);\n\t\t}\n\t}\n\t@media (min-width: 75em) {\n\t\t.grid {\n\t\t\tmargin-bottom: 3rem;\n\t\t}\n\t}\n\n\t",":not(:last-child) {\n\t\tmargin-bottom: 2.5rem;\n\t}\n"])),y.d,y.e,k);var z=function(){var t=Object(a.b)(),e=Object(a.c)((function(t){return t.statistics})),n=e.isLoading,r=e.total,c=e.topItems,o=e.topCategories,j=e.monthlySummary;return Object(s.useEffect)((function(){n&&t(function(){var t=Object(p.a)(m.a.mark((function t(e,n){var r,c,s,a,o,j,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.uid,c="users/".concat(r,"/statistics"),t.prev=2,t.next=5,Object(f.a)(c);case 5:return s=t.sent,t.next=8,s.json();case 8:if(a=t.sent,o=a.success,j=a.msg,d=Object(O.a)(a,["success","msg"]),o){t.next=12;break}throw new Error(j);case 12:e(v(d)),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),i.b.error(t.t0.message),e(x(!1));case 19:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,n){return t.apply(this,arguments)}}())}),[t,n]),Object(I.jsx)(_,{children:n?Object(I.jsx)(w.a,{size:"lg",center:!0}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid",children:[Object(I.jsxs)("section",{children:[Object(I.jsx)("h2",{className:"headline",children:"Top Items"}),c.map((function(t){var e=Math.round(t.count/r[0].count*100);return Object(I.jsxs)(s.Fragment,{children:[Object(I.jsxs)("p",{children:[t._id," ",Object(I.jsxs)("span",{children:[e,"%"]})]}),Object(I.jsx)(k,{color:"primary",progress:e})]},t._id)})),0===c.length&&Object(I.jsx)("p",{children:"No data to show"})]}),Object(I.jsxs)("section",{children:[Object(I.jsx)("h2",{className:"headline",children:"Top Categories"}),o.map((function(t){var e=Math.round(t.count/r[0].count*100);return Object(I.jsxs)(s.Fragment,{children:[Object(I.jsxs)("p",{children:[t._id," ",Object(I.jsxs)("span",{children:[e,"%"]})]}),Object(I.jsx)(k,{color:"secondary",progress:e})]},t._id)})),0===o.length&&Object(I.jsx)("p",{children:"No data to show"})]})]}),Object(I.jsxs)("section",{children:[Object(I.jsx)("h2",{className:"headline",children:"Monthly Summary"}),Object(I.jsx)(s.Suspense,{fallback:Object(I.jsx)(w.a,{center:!0,size:"lg"}),children:Object(I.jsx)(N,{stats:j})})]})]})})},C=n(154),E=n(158);e.default=function(){var t=Object(a.b)(),e=Object(a.c)((function(t){return t.ui})),n=Object(a.c)((function(t){return t.shopping})).isLoadingCategories,r=Object(a.c)((function(t){return t.cart})).unsavedCart;return Object(s.useEffect)((function(){n&&t(Object(o.c)())}),[t,n]),Object(s.useEffect)((function(){r.user||t(Object(j.h)())}),[t,r.user]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(i.a,{}),Object(I.jsxs)("div",{className:"layout",children:[Object(I.jsx)(d.a,{}),Object(I.jsxs)(u.a,{children:[Object(I.jsx)(z,{}),Object(I.jsx)(C.a,{}),Object(I.jsx)(E.a,{show:e.showAddItem})]})]})]})}}}]);
//# sourceMappingURL=12.1fd0a03d.chunk.js.map